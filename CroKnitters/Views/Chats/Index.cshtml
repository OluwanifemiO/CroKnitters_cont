@model List<ChatsViewModel>
@{
    ViewData["Title"] = "Chats";
}

<div class="container mx-auto">

    @*     <div class=" text-center">
    @using (Html.BeginForm("#", "#", FormMethod.Get))
    {
    <div class="input-group search">
    <input type="text" class="form-control rounded-3 w-25" name="search" placeholder="Search...">
    <div class="col-sm-2 input-group-append">
    <button class="btn btn-outline-secondary btn-dark" type="submit">Search</button>
    </div>
    </div>
    }
    </div> *@

    <!--container for the chats list section and messages section-->
    <div class="flex">
        <!--chats list-->
        <div class="flex-1 sm:w-full sm:max-w-sm rounded-lg border text-center shadow-xl h-auto m-5 justify-content-start bg-white chats-list">

            @if (TempData["error"] != null)
            {
                <p class="text-danger">
                    @TempData["error"]
                </p>
            }

            <div class="sm:w-full sm:max-w-sm p-4">
                <ul role="list" class="divide-y divide-grey-900">

                    @foreach(var chat in Model){
                    <li class="flex justify-between gap-x-6 py-5">
                        <!--show the user's info-->
                            <a asp-controller="Chats" asp-action="PrivateChat" asp-route-id="@chat.PartnerId" class="">
                            <div class="flex min-w-0 gap-x-4">
                                <img class="h-12 w-12 flex-none rounded-full bg-gray-50" src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="">
                                <div class="min-w-0 flex-auto">
                                    <p class="text-sm font-semibold leading-6 text-gray-900">@chat.PartnerUserName</p>
                                    <p class="mt-1 truncate text-xs leading-5 text-gray-500">@chat.LastMessage at @chat.LastMessageDate</p>
                                </div>
                            </div>

                        </a>
                    </li>
                    <hr />
                    }

                </ul>
            </div>
        </div>


        @* <!--messages-->
        <div class="flex-1 rounded-lg border text-center w-auto h-auto shadow-xl m-5 justify-content-start bg-white messages">
            @if (TempData["error"] != null)
            {
                <p class="text-danger">
                    @TempData["error"]
                </p>
            }

            <div class="sm:mx-auto sm:w-full sm:max-w-sm p-4">
                <!--messages themselves-->
                <div>
                    <!--Receiver side-->
                    <div class="d-md-inline-block bg-secondary">

                    </div>

                    <!--Sender side-->
                    <div class="d-md-inline-block bg-primary">

                    </div>
                </div>

                <!--Text box and send button-->
                <div>
                    <input type="text" class="form-control rounded-3 w-25" name="search" placeholder="Send a message...">

                    <div class="col-sm-2 input-group-append">
                        <button class="btn btn-outline-secondary btn-dark" id="send" type="submit">Send</button>
                    </div>
                </div>
            </div>
        </div> *@
    </div>
</div>


